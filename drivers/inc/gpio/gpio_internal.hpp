/**
* File: gpio_internal.hpp
* Created on: 2025-07-25 at 11:31
* Author: Andrea Rantin
* Description: This file contains definitions that are used internally in the
* GPIO driver
*/

#pragma once

#include "ST/stm32f303xe.h"
#include "types/gpio_types.hpp"

static constexpr GPIO_TypeDef* gpioPortsList[] = {
    GPIOA,
    GPIOB,
    GPIOC,
    GPIOD,
    GPIOE,
    GPIOF,
    GPIOG,
    GPIOH,
};

typedef struct {
    GPIOTypes::GPIOPort port;
    GPIOTypes::GPIOPin pin;
    uint16_t afMask;
}GPIOAfEntry;

static constexpr GPIOAfEntry gpioAfValidationTable[] = {
    //GPIOA Alternate functions table
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_0, 0b1000011110001010},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_1, 0b1000001010001011},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_2, 0b1000001110001010},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_3, 0b1000001010001010},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_4, 0b1000000011101100},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_5, 0b1000000000101010},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_6, 0b1000000101111110},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_7, 0b1000000001111110},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_8, 0b1000010111111001},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_9, 0b1000011111111100},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_10,0b1000110111111010},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_11,0b1001111111100000},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_12,0b1000111111100010},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_13,0b1000010010101011},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_14,0b1000000011111001},
    {GPIOTypes::GPIOPort::A, GPIOTypes::GPIOPin::PIN_15,0b1000001011111111},

    //GPIOB Alternate functions table
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_0, 0b1000000001011100},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_1, 0b1000000101011100},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_2, 0b1000000000001000},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_3, 0b1000010011111111},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_4, 0b1000010011111111},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_5, 0b1000010111111110},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_6, 0b1000010011111110},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_7, 0b1001010010111110},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_8, 0b1001011110011110},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_9, 0b1000011111010110},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_10,0b1000000010001010},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_11,0b1000000010001010},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_12,0b1000000011111000},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_13,0b1000000011101000},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_14,0b1000000011101010},
    {GPIOTypes::GPIOPort::B, GPIOTypes::GPIOPin::PIN_15,0b1000000000110111},

    //GPIOC Alternate function table
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_0, 0b0000000000000110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_1, 0b0000000000000110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_2, 0b0000000000001110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_3, 0b0000000001000110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_4, 0b0000000010000110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_5, 0b0000000010001110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_6, 0b0000000011010110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_7, 0b0000000011010110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_8, 0b0000000010010110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_9, 0b0000000001111110},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_10,0b0000000011110010},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_11,0b0000000011110010},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_12,0b0000000011110010},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_13,0b0000000000010010},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_14,0b0000000000000010},
    {GPIOTypes::GPIOPort::C, GPIOTypes::GPIOPin::PIN_15,0b0000000000000010},

    //GPIOD Alternate function table
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_0, 0b0001000010000010},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_1, 0b0001000011010010},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_2, 0b0000000000110110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_3, 0b0001000010000110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_4, 0b0001000010000110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_5, 0b0001000010000010},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_6, 0b0001000010000110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_7, 0b0001000010000110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_8, 0b0001000010000010},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_9, 0b0001000010000010},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_10,0b0001000010000010},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_11,0b0001000010000010},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_12,0b0001000010001110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_13,0b0001000010001110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_14,0b0001000010001110},
    {GPIOTypes::GPIOPort::D, GPIOTypes::GPIOPin::PIN_15,0b0001000001001110},

    //GPIOE Alternate function table
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_0, 0b0001000011010110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_1, 0b0001000011010010},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_2, 0b0001000001101111},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_3, 0b0001000001101111},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_4, 0b0001000001101111},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_5, 0b0001000001101111},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_6, 0b0001000001100011},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_7, 0b0001000000000110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_8, 0b0001000000000110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_9, 0b0001000000000110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_10,0b0001000000000110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_11,0b0001000000100110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_12,0b0001000000100110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_13,0b0001000000100110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_14,0b0001000001100110},
    {GPIOTypes::GPIOPort::E, GPIOTypes::GPIOPin::PIN_15,0b0001000010000110},

    //GPIOF Alternate function table
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_0, 0b0000000001110010},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_1, 0b0000000000110010},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_2, 0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_3, 0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_4, 0b0001000000001110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_5, 0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_6, 0b0001000010010110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_7, 0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_8, 0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_9, 0b0001000000101110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_10,0b0001000000101110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_11,0b0000000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_12,0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_13,0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_14,0b0001000000000110},
    {GPIOTypes::GPIOPort::F, GPIOTypes::GPIOPin::PIN_15,0b0001000000000110},

    //GPIOG Alternate function table
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_0, 0b0001000000000110},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_1, 0b0001000000000110},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_2, 0b0001000000000110},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_3, 0b0001000000000110},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_4, 0b0001000000000110},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_5, 0b0001000000000110},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_6, 0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_7, 0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_8, 0b0000000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_9, 0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_10,0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_11,0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_12,0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_13,0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_14,0b0001000000000010},
    {GPIOTypes::GPIOPort::G, GPIOTypes::GPIOPin::PIN_15,0b0000000000000010},

    //GPIOH Alternate function table
    {GPIOTypes::GPIOPort::H, GPIOTypes::GPIOPin::PIN_0, 0b0001000000000110},
    {GPIOTypes::GPIOPort::H, GPIOTypes::GPIOPin::PIN_1, 0b0001000000000110},
    {GPIOTypes::GPIOPort::H, GPIOTypes::GPIOPin::PIN_2, 0b0001000000000010},
};
